<nav class="flex justify-around items-center p-4 w-full border sticky">
    <div class="flex items-center">
        <a href="/" class="flex items-center">
            <img src="/images/logo.png" alt="PenNet" class="rounded-full"></img>
            <div class="text-2xl font-bold ml-4">PenNet</div>
        </a>
    </div>
    <div class="border w-1/3 h-10 flex pl-3 items-center">
        <i class="fa-solid fa-magnifying-glass"></i>
        <input id="search" class="ml-4 text-gray-500 focus:border-none focus:outline-none flex-grow" type="text" placeholder="Search friends...">
        <button id="search-btn" class="ml-2 px-4 py-2 bg-blue-500 text-white rounded">Search</button>
    </div>
    <div class="flex items-center cursor-pointer border rounded ">
        <div class="relative">
            <button id="dropdown" class="flex items-center rounded-md focus:outline-none p-2 pl-4 pr-4">
                <div class="mr-4">Setting</div>
                <i class="fa-solid fa-gear"></i>
            </button>
            <div id="items" class="absolute right-0 hidden w-48 
                    bg-white border rounded-xl shadow-lg 
                    group-hover:block z-50">
                <a href="#" id="darkmode" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">
                    <div class="flex items-center">
                        <i class="fa-solid fa-moon"></i>
                        <div class="ml-2"><span>Dark Mode</span></div>
                    </div>
                </a>
                <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">
                    <div class="flex items-center">
                        <i class="fa-solid fa-ban"></i>
                        <div class="ml-2">Block list</div>
                    </div>
                </a>
                <a href="#" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">
                    <div class="flex items-center">
                        <i class="fa-solid fa-shield-halved"></i>
                        <div class="ml-2">Edit privacy</div>
                    </div>
                </a>
                <a href="#" id="notification" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">
                    <div class="flex items-center">
                        <i class="fa-solid fa-bell"></i>
                        <div class="ml-2">Notification</div>
                    </div>
                </a>
                <a href="/users/logout" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">
                    <div class="flex items-center">
                        <i class="fa-solid fa-right-from-bracket"></i>
                        <div class="ml-2">Logout</div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</nav>

<script>
$(document).ready(() => {
    $('#dropdown').on('click', () => {
        $('#items').toggleClass('hidden');
    });

    $('#notification').on('click', (e) => {
        e.preventDefault();
        if ($('#notification i').hasClass('fa-bell')) {
            // bật -> tắt
            $('#notification i').removeClass('fa-bell');
            $('#notification i').addClass('fa-bell-slash');
        } else {
            // tắt -> bật
            $('#notification i').removeClass('fa-bell-slash');
            $('#notification i').addClass('fa-bell');
        }
    });

    $('#search-btn').on('click', () => {
        const query = $('#search').val();
        window.location.href = `/search?query=${query}`; // Ensure the query parameter matches
    });
});
</script>

<script src="/js/darkmode.js"></script>
